<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse - Hibernate Tools
-->
<hibernate-mapping>
    <class name="tw.edu.chit.model.ClassScoreSummary" table="ClassScoreSummary" catalog="CIS">
    	<cache usage="read-write" />
    
        <id name="oid" type="java.lang.Integer" column="Oid">
			<generator class="native">
				<param name="sequence">classScoreSummary_seq</param>
			</generator>
		</id>
		
		<!--version name="version" column="Version" type="java.lang.Integer" /-->
		
		<property name="schoolYear" type="java.lang.String">
            <column name="SchoolYear" not-null="true" />
        </property>
        <property name="schoolTerm" type="java.lang.String">
            <column name="SchoolTerm" not-null="true" />
        </property>
        <property name="midFinal" type="tw.edu.chit.model.Examine">
        	<column name="MidFinal" not-null="true" />
        </property>
        <property name="departClass" type="java.lang.String">
            <column name="DepartClass" not-null="true" />
        </property>
        <property name="average" type="java.lang.Float">
            <column name="Average" />
        </property>
        <property name="summary1" type="java.lang.Integer">
            <column name="Summary1" />
        </property>
        <property name="summary2" type="java.lang.Integer">
            <column name="Summary2" />
        </property>
        <property name="lastModified" type="java.util.Date">
            <column name="LastModified" />
        </property>
        
        <!-- 科目成績統計 -->
        <set name="scoreStatisticSet" table="ScoreStatistic" lazy="true"
        		order-by="cscode asc">
        	<cache usage="read-write" />
        	<key column="ParentOid" />
        	<composite-element
        		class="tw.edu.chit.model.ScoreStatistic">
        		<property name="cscode" column="Cscode"
        			type="java.lang.String" not-null="true" />
        		<property name="pass" column="Pass"
        			type="java.lang.Integer" not-null="true" />
        		<property name="fail" column="Fail"
        			type="java.lang.Integer" not-null="true" />
        		<property name="average" column="Average"
        			type="java.lang.Float" not-null="true" />	
				<property name="range1" column="Range1"
        			type="java.lang.Integer" />
				<property name="range2" column="Range2"
        			type="java.lang.Integer" />
				<property name="range3" column="Range3"
        			type="java.lang.Integer" />
				<property name="range4" column="Range4"
        			type="java.lang.Integer" />
				<property name="range5" column="Range5"
        			type="java.lang.Integer" />
        	</composite-element>
        </set>
        
        <!-- 二分之ㄧ不及格學生 -->
        <set name="failStudents1Set" table="FailStudents1" lazy="true"
        		order-by="studentNo asc">
        	<cache usage="read-write" />
        	<key column="ParentOid" />
        	<composite-element
        		class="tw.edu.chit.model.FailStudents1">
        		<property name="studentNo" column="StudentNo"
        			type="java.lang.String" not-null="true" />
        		<property name="totalCredits" column="TotalCredits"
        			type="java.lang.Float" not-null="true" />
        		<property name="passCredits" column="PassCredits"
        			type="java.lang.Float" not-null="true" />
        		<property name="average" column="Average"
        			type="java.lang.Float" not-null="true" />	
        	</composite-element>
        </set>
        
        <!-- 三分之二不及格學生 -->
        <set name="failStudents2Set" table="FailStudents2" lazy="true"
       			order-by="studentNo asc">
       		<cache usage="read-write" />
        	<key column="ParentOid" />
        	<composite-element
        		class="tw.edu.chit.model.FailStudents2">
        		<property name="studentNo" column="StudentNo"
        			type="java.lang.String" not-null="true" />
        		<property name="totalCredits" column="TotalCredits"
        			type="java.lang.Float" not-null="true" />
        		<property name="passCredits" column="PassCredits"
        			type="java.lang.Float" not-null="true" />
        		<property name="average" column="Average"
        			type="java.lang.Float" not-null="true" />	
        	</composite-element>
        </set>
        
        <!-- 各班學生成績與排名:1對多 Mapping -->
        <set name="stdScoreSet" table="StdScore" lazy="true"
        		order-by="pos asc, just desc">
        	<cache usage="read-write" />	
            <key column="ParentOid" />
            <composite-element
        		class="tw.edu.chit.model.StdScore">
        		<property name="studentNo" column="StudentNo"
        			type="java.lang.String" not-null="true" />
        		<property name="totalCredits" column="TotalCredits"
        			type="java.lang.Float" not-null="true" />
        		<property name="passCredits" column="PassCredits"
        			type="java.lang.Float" not-null="true" />
        		<property name="average" column="Average"
        			type="java.lang.Float" not-null="true" />
        		<property name="just" column="Just" 
        			type="java.lang.Double" not-null="true" />
        		<property name="status" column="Status" 
        			type="tw.edu.chit.model.ScoreStatus" not-null="true" />
        		<property name="pos" column="Pos"
        			type="java.lang.Integer" not-null="true" />
        	</composite-element>
        </set>
        
        <!-- 前三名學生:1對多 Mapping -->
        <!--list name="topStudentSet" inverse="true" cascade="all"
        	table="TopStudent" lazy="true">
            <key column="ParentOid" />
            <index column="Pos" />
            <one-to-many class="tw.edu.chit.model.TopStudent" />
        </list-->
                
    </class>
</hibernate-mapping>
